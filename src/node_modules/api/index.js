import * as R from 'ramda'
// import request from 'superagent'
import axios from 'axios'

import phones from 'api/mockPhones'
import categories from 'api/mockCategories'

// const apiUrl = 'https://run.mocky.io/v3/cdcefcaa-52b9-4899-9311-9d8110e479c8'
const apiUrl = 'https://run.mocky.io/v3/7d75e9b3-8ec9-40bb-89d8-4fa9eda57766/?id=2'

// export const fetchPhones = async () => { 
//     return new Promise((resolve, reject) => {
//         resolve(phones)
//     })
// }

// export const fetchPhones = async () => {
//     const {body} = await request.get(apiUrl)
//     return body.phones
// }

export const fetchPhones = async () => {
    const res = await axios.get(apiUrl);
    return res.data
    };

export const loadMorePhones = async ({offset}) => {
//    fetch.length(`http://google.com/api/phones?offset=${offset}`)
    return new Promise((resolve, reject) => {
        resolve(phones)
    })
}

export const fetchPhoneById = async (id) => {
    // get(...)   
    return new Promise((resolve, reject) => {
        const phone = R.find(R.propEq('id', id), phones)
        resolve(phone)
    })
}

export const fetchCategories = async () => {
    return new Promise((resolve, reject) => {
        resolve(categories)
    })
}